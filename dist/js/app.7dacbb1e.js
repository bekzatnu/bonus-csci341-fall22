(function(){"use strict";var e={8592:function(e,t,o){var a=o(9242),n=o(2483),s=o(3396);const i={id:"app"};function r(e,t){const o=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(o)])}var l=o(89);const p={},c=(0,l.Z)(p,[["render",r]]);var d=c;const u={class:"relative bg-slate-100 py-10 min-h-screen"},h={class:"px-4 mb-10 md:px-10 mx-auto w-full"};function g(e,t,o,a,n,i){const r=(0,s.up)("data-table");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",u,[(0,s._)("div",h,[(0,s.Wm)(r)])])])}var y=o(7139);const b={class:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded bg-slate-200"},f={class:"block w-full overflow-x-auto"},w={class:"items-center w-full border-collapse"},m={class:"align-middle border border-solid text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-center text-slate-200 bg-slate-800 border-slate-100"},v=(0,s._)("th",{class:"px-0 py-3"},null,-1),x={class:"px-0 py-3"},_={class:"text-xs text-center align-middle whitespace-nowrap hover:text-slate-200 hover:bg-slate-800 border-t-1 border-solid border-slate-200 border-l-0 border-r-0"},k=["type","value","onInput","placeholder"],D={class:"py-3 px-0"},C={class:"py-3 px-0"},R=["id"],N=["type","value","onInput","placeholder"],O={class:"py-3 px-0"},U={class:"py-3 px-0"},S={class:"rounded-b mb-0 px-4 py-2 border-0"},j=(0,s._)("div",{class:"flex flex-nowrap overflow-x-auto border-collapse w-full align-middle whitespace-nowrap items-center"},[(0,s._)("h3",{class:"font-semibold text-lg text-slate-800"}," Empty ")],-1),F=[j];function T(e,t,o,n,i,r){const l=(0,s.up)("radio-form");return(0,s.wg)(),(0,s.iD)("div",b,[(0,s.Wm)(l,{buttons:["DiseaseType","Country","Disease","Discover","Users","PublicServant","Doctor","Specialize","Record"],input_type:i.type,"onUpdate:input_type":t[0]||(t[0]=e=>i.type=e),onClick:r.updateTable},null,8,["input_type","onClick"]),(0,s._)("div",f,[(0,s._)("table",w,[(0,s._)("thead",null,[(0,s._)("tr",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(i.info_empty[i.type]),((e,t)=>((0,s.wg)(),(0,s.iD)("th",{class:"px-6 py-3",key:t},(0,y.zw)(e),1)))),128)),v,(0,s._)("th",x,[(0,s.wy)((0,s._)("button",{class:"px-4 rounded bg-emerald-500 hover:bg-emerald-600 active:bg-emerald-700 uppercase text-slate-200",onClick:t[1]||(t[1]=(...e)=>r.newRow&&r.newRow(...e))}," New ",512),[[a.F8,!i.isNew]]),(0,s.wy)((0,s._)("button",{class:"px-4 rounded bg-rose-500 hover:bg-rose-600 active:bg-rose-700 uppercase text-slate-200",onClick:t[2]||(t[2]=e=>i.isNew=!1)}," Cancel ",512),[[a.F8,i.isNew]])])])]),(0,s._)("tbody",null,[(0,s.wy)((0,s._)("tr",_,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(i.info_empty[i.type]),((e,t)=>((0,s.wg)(),(0,s.iD)("td",{class:"py-3 px-6",key:t},[(0,s._)("input",{type:"number"===typeof i.info_empty[i.type][e]?"number":"text",min:"0",value:this.info_empty[this.type][e],onInput:t=>this.info_empty[this.type][e]="number"===typeof i.info_empty[i.type][e]?parseInt(t.target.value):t.target.value,class:"w-full relative border-0 px-3 py-3 placeholder-slate-300 text-slate-600 bg-white rounded text-sm shadow focus:outline-none focus:ring ease-linear transition-all duration-150",placeholder:e},null,40,k)])))),128)),(0,s._)("td",D,[(0,s._)("button",{class:"px-4 rounded bg-emerald-500 hover:bg-emerald-600 active:bg-emerald-700 uppercase text-slate-200",onClick:t[3]||(t[3]=(...e)=>r.createRow&&r.createRow(...e))}," Create ")]),(0,s._)("td",C,[(0,s._)("button",{class:"px-4 rounded bg-rose-500 hover:bg-rose-600 active:bg-rose-700 uppercase text-slate-200",onClick:t[4]||(t[4]=(...e)=>r.clearRow&&r.clearRow(...e))}," Clear ")])],512),[[a.F8,i.isNew]]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.infos,((e,o)=>((0,s.wg)(),(0,s.iD)("tr",{class:"text-xs text-center align-middle whitespace-nowrap hover:text-slate-200 hover:bg-slate-800 border-t-1 border-solid border-slate-200 border-l-0 border-r-0",key:o,id:"r"+o},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e),((t,n)=>(0,s.wy)(((0,s.wg)(),(0,s.iD)("td",{class:"py-3 px-6",key:n},(0,y.zw)(e[t]),1)),[[a.F8,i.toUpdate!=o&&"id"!=t]]))),128)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e),((t,n)=>(0,s.wy)(((0,s.wg)(),(0,s.iD)("td",{class:"py-3 px-6",key:n},[(0,s._)("input",{type:"number"===typeof e[t]?"number":"text",min:"0",value:this.info_empty[this.type][t],onInput:e=>this.info_empty[this.type][t]=e.target.value,class:"w-full relative border-0 px-3 py-3 placeholder-slate-300 text-slate-600 bg-white rounded text-sm shadow focus:outline-none focus:ring ease-linear transition-all duration-150",placeholder:t},null,40,N)])),[[a.F8,i.toUpdate==o&&"id"!=t]]))),128)),(0,s._)("td",O,[(0,s.wy)((0,s._)("button",{class:"px-4 rounded bg-sky-500 hover:bg-sky-600 active:bg-sky-700 uppercase text-slate-200",onClick:t[5]||(t[5]=(...e)=>r.updateRow&&r.updateRow(...e))}," Update ",512),[[a.F8,i.toUpdate!=o]]),(0,s.wy)((0,s._)("button",{class:"px-4 rounded bg-sky-500 hover:bg-sky-600 active:bg-sky-700 uppercase text-slate-200",onClick:t[6]||(t[6]=(...e)=>r.submitRow&&r.submitRow(...e))}," Submit ",512),[[a.F8,i.toUpdate==o]])]),(0,s._)("td",U,[(0,s.wy)((0,s._)("button",{class:"px-4 rounded bg-rose-500 hover:bg-rose-600 active:bg-rose-700 uppercase text-slate-200",onClick:t[7]||(t[7]=(...e)=>r.deleteRow&&r.deleteRow(...e))}," Delete ",512),[[a.F8,i.toUpdate!=o]]),(0,s.wy)((0,s._)("button",{class:"px-4 rounded bg-rose-500 hover:bg-rose-600 active:bg-rose-700 uppercase text-slate-200",onClick:t[8]||(t[8]=(...e)=>r.cancelRow&&r.cancelRow(...e))}," Cancel ",512),[[a.F8,i.toUpdate==o]])])],8,R)))),128))])])]),(0,s.wy)((0,s._)("div",S,F,512),[[a.F8,!i.infos.length&&!i.isNew]])])}o(7658);var P=o(70);const Z="http://localhost:8000",I={class:"flex flex-nowrap overflow-x-auto border-collapse w-full align-middle whitespace-nowrap items-center",role:"group"};function z(e,t,o,a,n,i){const r=(0,s.up)("toggle-button");return(0,s.wg)(),(0,s.iD)("div",I,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.buttons,((e,t)=>((0,s.wg)(),(0,s.j4)(r,{aactive:o.input_type===e,key:t,toggleButtonName:e,onToggle:i.updateActive},null,8,["aactive","toggleButtonName","onToggle"])))),128))])}function B(e,t,o,a,n,i){return(0,s.wg)(),(0,s.iD)("button",{class:(0,y.C_)(["px-6 py-3 flex-1 font-medium text-xs leading-tight hover:text-slate-200 hover:bg-slate-800 w-full active:bg-slate-700 transition duration-150 ease-in-out",[this.aactive?"bg-slate-800 text-white":"bg-slate-200 text-slate-800"]]),type:"button",onClick:t[0]||(t[0]=(...e)=>i.updateActive&&i.updateActive(...e))},(0,y.zw)(o.toggleButtonName),3)}var H={name:"toggle-button",props:["aactive","toggleButtonName"],model:{},methods:{updateActive(){this.$emit("toggle",this.toggleButtonName)}}};const K=(0,l.Z)(H,[["render",B]]);var Y=K,A={name:"radio-form",data(){return{}},model:{prop:"input_type",event:"update:input_type"},props:["buttons","input_type"],components:{ToggleButton:Y},methods:{updateActive(e){this.$emit("update:input_type",e)}}};const J=(0,l.Z)(A,[["render",z]]);var E=J,W={data(){return{toUpdate:null,isNew:!1,type:"DiseaseType",pks:{DiseaseType:"did",Country:"cname",Disease:"disease_code",Discover:"id",Users:"email",PublicServant:"email",Doctor:"email",Specialize:"id",Record:"id"},info_empty:{DiseaseType:{did:0,description:""},Country:{cname:"",population:0},Disease:{disease_code:"",pathogen:"",description:"",did:0},Discover:{cname:"",disease_code:"",first_enc_date:""},Users:{email:"",name:"",surname:"",salary:0,phone:"",cname:""},PublicServant:{email:"",departament:""},Doctor:{email:"",degree:""},Specialize:{did:0,email:""},Record:{email:"",cname:"",disease_code:"",total_death:0,total_patients:0}},infos:[]}},methods:{deleteRow(e){const t=e.target.parentNode.parentNode.id.match(/\d+/);if(t){const e=parseInt(t);var o=this.infos[e],a=this.pks[this.type],n=o[a];"id"==a&&(n=e+1),P.ZP["delete"](Z+"/api/"+this.type+"/"+n+"/").then((()=>{this.toUpdate=null,this.infos.splice(e,1),alert("Success")})).catch((function(e){alert("Could not delete with error: "+e.message)}))}},submitRow(){var e=this.info_empty[this.type],t=this.pks[this.type],o=e[t];console.log(this.info_empty[this.type]),console.log("upd: "+o),console.log(e),P.ZP.put(Z+"/api/"+this.type+"/"+o+"/",e).then((e=>{console.log(e.data),this.infos[this.toUpdate]=e.data,this.toUpdate=null,alert("Success")})).catch((function(e){alert("Could not update"),console.log(e)}))},cancelRow(){this.toUpdate=null},updateRow(e){this.isNew=!1;const t=e.target.parentNode.parentNode.id.match(/\d+/);if(t){const e=parseInt(t);this.toUpdate=e}else this.toUpdate=null;this.info_empty[this.type]=JSON.parse(JSON.stringify(this.infos[this.toUpdate]))},createRow(){var e=JSON.parse(JSON.stringify(this.info_empty[this.type]));P.ZP.post(Z+"/api/"+this.type+"/",e).then((e=>{this.isNew=!1,this.infos.push(e.data),alert("Success")})).catch((function(e){alert("Could not create"),console.log(e)}))},clearRow(){var e=this.info_empty[this.type],t=Object.keys(e);t.forEach((t=>e[t]="number"===typeof e[t]?0:""))},newRow(){this.clearRow(),this.isNew=!this.isNew,this.toUpdate=null},updateTable(){this.isNew=!1,this.toUpdate=null,P.ZP.get(Z+"/api/"+this.type+"/").then((e=>{console.log(e.data),this.infos=e.data})).catch((e=>{alert("Could not load data"),this.infos=[],console.log(e)}))}},components:{RadioForm:E},mounted(){console.log(this.$route.params.iin),P.ZP.get(Z+"/api/"+this.type+"/").then((e=>{console.log(e.data),this.infos=e.data})).catch((function(e){alert("Could not load data"),console.log(e)}))}};const $=(0,l.Z)(W,[["render",T]]);var M=$,q={name:"admin-layout",components:{DataTable:M}};const G=(0,l.Z)(q,[["render",g]]);var L=G;const Q=[{path:"/",component:L,children:[{path:"/data",component:M}]},{path:"/:pathMatch(.*)*",redirect:"/"}],V=(0,n.p7)({history:(0,n.PO)(),routes:Q});(0,a.ri)(d).use(V).mount("#app")}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,a,n,s){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],s=e[c][2];for(var r=!0,l=0;l<a.length;l++)(!1&s||i>=s)&&Object.keys(o.O).every((function(e){return o.O[e](a[l])}))?a.splice(l--,1):(r=!1,s<i&&(i=s));if(r){e.splice(c--,1);var p=n();void 0!==p&&(t=p)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[a,n,s]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,s,i=a[0],r=a[1],l=a[2],p=0;if(i.some((function(t){return 0!==e[t]}))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(l)var c=l(o)}for(t&&t(a);p<i.length;p++)s=i[p],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(c)},a=self["webpackChunkfront"]=self["webpackChunkfront"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(8592)}));a=o.O(a)})();
//# sourceMappingURL=app.7dacbb1e.js.map